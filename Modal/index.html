<!DOCTYPE html>
<html lang="es">

<head>
    <title>Ventanas Modal</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</head>

<body>
    <h2>Ejemplo modal</h2>
    <!-- Elemento donde al pulsar se abrirá una ventana modal-->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#miModal">
        Abrir ventana modal
    </button>

    <div class="modal fade" id="miModal">
        <div class="modal-dialog">
            <!--div que contiene el contenido de la ventana modal-->
            <div class="modal-content">
                <!-- Header del modal -->
                <div class="modal-header">
                    <h4 class="modal-title">Header del modal</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <!--Cuerpo dle modal -->
                <div class="modal-body">
                    Cuerpo del modal
                </div>
                <!-- Footer del modal -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
                </div>

            </div>
        </div>
    </div>


    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal">
        Ventana modal formulario
    </button> 

    <div class="modal" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Formulario</h5>
            <button type="button" class="btn-close" data-dismiss="modal" aria-label="Close">&times;</button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <label for="recipient-name" class="col-form-label">Nombre:</label>
                <input type="text" class="form-control" id="recipient-name">
              </div>
              <div class="mb-3">
                <label for="message-text" class="col-form-label">Mensaje:</label>
                <textarea class="form-control" id="message-text"></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
            <button type="button" class="btn btn-primary">Enviar</button>
          </div>
        </div>
      </div>
    </div>





    <div class="w3-container">
        <h2>Galeria</h2>
        <p>Pulsar en una foto para ampliar.</p>
    </div>

    <div class="w3-row-padding">
        <div class="w3-container w3-third">
            <img src="img_snowtops.jpg" style="width:100%;cursor:pointer" onclick="onClick(this)"
                class="w3-hover-opacity">
        </div>
        <div class="w3-container w3-third">
            <img src="img_lights.jpg" style="width:100%;cursor:pointer" onclick="onClick(this)"
                class="w3-hover-opacity">
        </div>
        <div class="w3-container w3-third">
            <img src="img_mountains.jpg" style="width:100%;cursor:pointer" onclick="onClick(this)"
                class="w3-hover-opacity">
        </div>
    </div>

    <div id="modal01" class="w3-modal" onclick="this.style.display='none'">
        <span class="w3-button w3-hover-red w3-xlarge w3-display-topright">&times;</span>
        <div class="w3-modal-content w3-animate-zoom">
            <img id="img01" style="width:100%">
        </div>
    </div>

    <script>
        function onClick(element) {
            document.getElementById("img01").src = element.src;
            document.getElementById("modal01").style.display = "block";
        }
    </script>
    <div class="w3-container">

        <h2>Carrusel</h2>
        <div class="w3-row-padding" style="margin:0 -16px">
            <div class="w3-col s4">
                <img src="img_nature_wide.jpg" style="width:100%;cursor:pointer" onclick="openModal();currentDiv(1)"
                    class="w3-hover-shadow">
            </div>
            <div class="w3-col s4">
                <img src="img_snow_wide.jpg" style="width:100%;cursor:pointer" onclick="openModal();currentDiv(2)"
                    class="w3-hover-shadow">
            </div>
            <div class="w3-col s4">
                <img src="img_mountains_wide.jpg" style="width:100%;cursor:pointer" onclick="openModal();currentDiv(3)"
                    class="w3-hover-shadow">
            </div>
        </div>

        <div id="myModal" class="w3-modal w3-black">
            <span class="w3-text-white w3-xxlarge w3-hover-text-grey w3-container w3-display-topright"
                onclick="closeModal()" style="cursor:pointer">×</span>
            <div class="w3-modal-content">

                <div class="w3-content" style="max-width:1200px">
                    <img class="mySlides" src="img_nature_wide.jpg" style="width:100%">
                    <img class="mySlides" src="img_snow_wide.jpg" style="width:100%">
                    <img class="mySlides" src="img_mountains_wide.jpg" style="width:100%">
                    <div class="w3-row w3-black w3-center">
                        <div class="w3-display-container">
                            <p id="caption"></p>
                            <span class="w3-display-left w3-btn" onclick="plusDivs(-1)">❮</span>
                            <span class="w3-display-right w3-btn" onclick="plusDivs(1)">❯</span>
                        </div>
                        <div class="w3-col s4">
                            <img class="demo w3-opacity w3-hover-opacity-off" src="img_nature_wide.jpg"
                                style="width:100%" onclick="currentDiv(1)" alt="Naturaleza">
                        </div>
                        <div class="w3-col s4">
                            <img class="demo w3-opacity w3-hover-opacity-off" src="img_snow_wide.jpg" style="width:100%"
                                onclick="currentDiv(2)" alt="Alpes franceses">
                        </div>
                        <div class="w3-col s4">
                            <img class="demo w3-opacity w3-hover-opacity-off" src="img_mountains_wide.jpg"
                                style="width:100%" onclick="currentDiv(3)" alt="Montañas">
                        </div>
                    </div> <!-- End row -->
                </div> <!-- End w3-content -->

            </div> <!-- End modal content -->
        </div> <!-- End modal -->

    </div>

    <script>
        function openModal() {
            document.getElementById('myModal').style.display = "block";
        }

        function closeModal() {
            document.getElementById('myModal').style.display = "none";
        }

        var slideIndex = 1;
        showDivs(slideIndex);

        function plusDivs(n) {
            showDivs(slideIndex += n);
        }

        function currentDiv(n) {
            showDivs(slideIndex = n);
        }

        function showDivs(n) {
            var i;
            var x = document.getElementsByClassName("mySlides");
            var dots = document.getElementsByClassName("demo");
            var captionText = document.getElementById("caption");
            if (n > x.length) { slideIndex = 1 }
            if (n < 1) { slideIndex = x.length }
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" w3-opacity-off", "");
            }
            x[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " w3-opacity-off";
            captionText.innerHTML = dots[slideIndex - 1].alt;
        }
    </script>
</body>

</html>